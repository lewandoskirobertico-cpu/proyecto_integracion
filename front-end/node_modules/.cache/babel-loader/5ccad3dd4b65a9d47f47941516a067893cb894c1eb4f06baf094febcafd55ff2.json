{"ast":null,"code":"// src/paginas/Sostenedor/DatosDelSostenedor.jsx\nimport{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import InsigniaEstado from\"../../componentes/interfaz/InsigniaEstado\";import Buscar from\"../../componentes/interfaz/Buscar\";import{obtenerDatosSostenedorMock}from\"../../servicios/sostenedor.mock\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DatosDelSostenedor(){const[datos,setDatos]=useState(null);const[cargando,setCargando]=useState(true);const[busqueda,setBusqueda]=useState(\"\");useEffect(()=>{(async()=>{const d=await obtenerDatosSostenedorMock();setDatos(d);setCargando(false);})();},[]);if(cargando){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Cargando...\"})})});}if(!datos){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger text-center\",children:\"No fue posible cargar los datos institucionales.\"})});}// Filtrar por nombre o RBD (aunque haya 1, así ya queda listo para escalar)\nconst establecimientosFiltrados=datos.establecimientos.filter(e=>e.nombre.toLowerCase().includes(busqueda.toLowerCase())||String(e.rbd).toLowerCase().includes(busqueda.toLowerCase()));return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fw-bold text-primary\",children:\"Datos Institucional\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Due\\xF1o del Colegio (Sostenedor) y establecimiento asociado\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm mb-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded bg-light\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-1\",children:\"RUT Due\\xF1o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-semibold\",children:datos.rut})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded bg-light\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-1\",children:\"Nombre del Due\\xF1o\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fw-semibold\",children:datos.nombre})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 border rounded bg-light\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"text-muted mb-1\",children:\"Estado Convenio PIE\"}),/*#__PURE__*/_jsx(InsigniaEstado,{estado:datos.estado_convenio})]})})]})})}),/*#__PURE__*/_jsx(Buscar,{valor:busqueda,onCambiar:setBusqueda}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Establecimiento\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover align-middle mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"RBD\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tipo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Convenio PIE\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-end\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:establecimientosFiltrados.length>0?establecimientosFiltrados.map(e=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:e.rbd}),/*#__PURE__*/_jsx(\"td\",{children:e.nombre}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(e.tipo===\"URBANO\"?\"bg-info\":\"bg-success\"),children:e.tipo})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"badge \".concat(e.convenio_pie?\"bg-primary\":\"bg-secondary\"),children:e.convenio_pie?\"SI\":\"NO\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:/*#__PURE__*/_jsxs(Link,{className:\"btn btn-outline-primary btn-sm\",to:\"/establecimientos/\".concat(e.id,\"/estructura\"),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-right-circle me-1\"}),\" Ingresar\"]})})]},e.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:5,className:\"text-center text-muted\",children:\"No se encontr\\xF3 el establecimiento.\"})})})]})})]})]});}","map":{"version":3,"names":["useEffect","useState","Link","InsigniaEstado","Buscar","obtenerDatosSostenedorMock","jsx","_jsx","jsxs","_jsxs","DatosDelSostenedor","datos","setDatos","cargando","setCargando","busqueda","setBusqueda","d","className","children","role","establecimientosFiltrados","establecimientos","filter","e","nombre","toLowerCase","includes","String","rbd","rut","estado","estado_convenio","valor","onCambiar","length","map","concat","tipo","convenio_pie","to","id","colSpan"],"sources":["/home/ec2-user/proyecto_integracion/front-end/src/paginas/Sostenedor/DatosDelSostenedor.jsx"],"sourcesContent":["// src/paginas/Sostenedor/DatosDelSostenedor.jsx\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport InsigniaEstado from \"../../componentes/interfaz/InsigniaEstado\";\nimport Buscar from \"../../componentes/interfaz/Buscar\";\nimport { obtenerDatosSostenedorMock } from \"../../servicios/sostenedor.mock\";\n\nexport default function DatosDelSostenedor() {\n  const [datos, setDatos] = useState(null);\n  const [cargando, setCargando] = useState(true);\n  const [busqueda, setBusqueda] = useState(\"\");\n\n  useEffect(() => {\n    (async () => {\n      const d = await obtenerDatosSostenedorMock();\n      setDatos(d);\n      setCargando(false);\n    })();\n  }, []);\n\n  if (cargando) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center vh-100\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Cargando...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!datos) {\n    return (\n      <div className=\"container py-4\">\n        <div className=\"alert alert-danger text-center\">\n          No fue posible cargar los datos institucionales.\n        </div>\n      </div>\n    );\n  }\n\n  // Filtrar por nombre o RBD (aunque haya 1, así ya queda listo para escalar)\n  const establecimientosFiltrados = datos.establecimientos.filter((e) =>\n    e.nombre.toLowerCase().includes(busqueda.toLowerCase()) ||\n    String(e.rbd).toLowerCase().includes(busqueda.toLowerCase())\n  );\n\n  return (\n    <div className=\"container py-4\">\n      {/* Encabezado */}\n      <div className=\"text-center mb-4\">\n        <h1 className=\"fw-bold text-primary\">Datos Institucional</h1>\n        <p className=\"text-muted\">Dueño del Colegio (Sostenedor) y establecimiento asociado</p>\n      </div>\n\n      {/* Tarjeta del dueño/sostenedor */}\n      <div className=\"card shadow-sm mb-4\">\n        <div className=\"card-body\">\n          <div className=\"row g-3\">\n            <div className=\"col-md-4\">\n              <div className=\"p-3 border rounded bg-light\">\n                <h6 className=\"text-muted mb-1\">RUT Dueño</h6>\n                <p className=\"fw-semibold\">{datos.rut}</p>\n              </div>\n            </div>\n            <div className=\"col-md-4\">\n              <div className=\"p-3 border rounded bg-light\">\n                <h6 className=\"text-muted mb-1\">Nombre del Dueño</h6>\n                <p className=\"fw-semibold\">{datos.nombre}</p>\n              </div>\n            </div>\n            <div className=\"col-md-4\">\n              <div className=\"p-3 border rounded bg-light\">\n                <h6 className=\"text-muted mb-1\">Estado Convenio PIE</h6>\n                <InsigniaEstado estado={datos.estado_convenio} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Buscador (queda por si agregas más colegios en el futuro) */}\n      <Buscar valor={busqueda} onCambiar={setBusqueda} />\n\n      {/* Tabla del establecimiento (singular) */}\n      <div className=\"card shadow-sm\">\n        <div className=\"card-header bg-primary text-white\">\n          <h5 className=\"mb-0\">Establecimiento</h5>\n        </div>\n        <div className=\"table-responsive\">\n          <table className=\"table table-hover align-middle mb-0\">\n            <thead className=\"table-light\">\n              <tr>\n                <th>RBD</th>\n                <th>Nombre</th>\n                <th>Tipo</th>\n                <th>Convenio PIE</th>\n                <th className=\"text-end\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody>\n              {establecimientosFiltrados.length > 0 ? (\n                establecimientosFiltrados.map((e) => (\n                  <tr key={e.id}>\n                    <td>{e.rbd}</td>\n                    <td>{e.nombre}</td>\n                    <td>\n                      <span className={`badge ${e.tipo === \"URBANO\" ? \"bg-info\" : \"bg-success\"}`}>\n                        {e.tipo}\n                      </span>\n                    </td>\n                    <td>\n                      <span className={`badge ${e.convenio_pie ? \"bg-primary\" : \"bg-secondary\"}`}>\n                        {e.convenio_pie ? \"SI\" : \"NO\"}\n                      </span>\n                    </td>\n                    <td className=\"text-end\">\n                      <Link\n                        className=\"btn btn-outline-primary btn-sm\"\n                        to={`/establecimientos/${e.id}/estructura`}\n                      >\n                        <i className=\"bi bi-arrow-right-circle me-1\"></i> Ingresar\n                      </Link>\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan={5} className=\"text-center text-muted\">\n                    No se encontró el establecimiento.\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}