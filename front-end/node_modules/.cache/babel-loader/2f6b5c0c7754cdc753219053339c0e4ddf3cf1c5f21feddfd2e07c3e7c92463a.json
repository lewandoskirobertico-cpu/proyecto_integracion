{"ast":null,"code":"import _objectSpread from\"/home/ec2-user/proyecto_integracion/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/paginas/Establecimientos/EstructuraDeCurso.jsx\nimport React,{useEffect,useMemo,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import Buscar from'../../componentes/interfaz/Buscar';import BotonCrearConModal from'../../componentes/interfaz/BotonCrearConModal';import BotonEditarConModal from'../../componentes/interfaz/BotonEditarConModal';import{obtenerEstructuraCurso,crearCurso,actualizarCurso}from'../../servicios/estructuraCurso';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function normalizarParamEst(s){try{return decodeURIComponent(s!==null&&s!==void 0?s:'').replace(/-/g,' ').trim();}catch(_unused){return String(s!==null&&s!==void 0?s:'').replace(/-/g,' ').trim();}}function normalizarTexto(str){return(str!==null&&str!==void 0?str:'').normalize('NFD').replace(/[\\u0300-\\u036f]/g,'').toLowerCase().trim();}export default function EstructuraDeCurso(){var _ref,_data$establecimiento,_data$establecimiento2,_ref2,_data$establecimiento3,_data$establecimiento4;const navigate=useNavigate();const{id}=useParams();const nombreEstParam=normalizarParamEst(id);const[data,setData]=useState({establecimiento:{nombre:nombreEstParam},cursos:[]});const[busqueda,setBusqueda]=useState('');const[cargando,setCargando]=useState(false);const[error,setError]=useState('');async function cargarDatos(){setCargando(true);setError('');try{const res=await obtenerEstructuraCurso(nombreEstParam);setData(res);}catch(err){var _err$response;console.error('[EstructuraDeCurso] Error al cargar datos:',err);const msg=err!==null&&err!==void 0&&err.message&&err!==null&&err!==void 0&&err.message.includes('Network Error')?'No se pudo conectar al servidor. Revisa la conexión o la URL del backend.':(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===403?'No tienes permiso para acceder a estos datos (403).':'No se pudo cargar la estructura de curso.';setError(msg);}finally{setCargando(false);}}useEffect(()=>{cargarDatos();},[nombreEstParam]);const cursosFiltrados=useMemo(()=>{const q=normalizarTexto(busqueda);if(!q)return data.cursos;return data.cursos.filter(c=>{var _c$nombre,_c$nivel,_c$anio_escolar,_c$establecimiento,_c$nombre_display;const cursoNombre=normalizarTexto((_c$nombre=c.nombre)!==null&&_c$nombre!==void 0?_c$nombre:'');const nivel=normalizarTexto((_c$nivel=c.nivel)!==null&&_c$nivel!==void 0?_c$nivel:'');const anio=normalizarTexto(((_c$anio_escolar=c.anio_escolar)!==null&&_c$anio_escolar!==void 0?_c$anio_escolar:'').toString());const est=normalizarTexto((_c$establecimiento=c.establecimiento)!==null&&_c$establecimiento!==void 0?_c$establecimiento:'');const display=normalizarTexto((_c$nombre_display=c.nombre_display)!==null&&_c$nombre_display!==void 0?_c$nombre_display:'');return cursoNombre.includes(q)||nivel.includes(q)||anio.includes(q)||est.includes(q)||display.includes(q);});},[busqueda,data.cursos]);// ✅ navegación dentro del sistema\nconst irAlumnos=c=>navigate(\"/establecimientos/\".concat(id,\"/cursos/\").concat(c.id,\"/alumnos\"));const irApoyoPersonal=c=>navigate(\"/establecimientos/\".concat(id,\"/cursos/\").concat(c.id,\"/apoyo-personal\"));return/*#__PURE__*/_jsx(\"div\",{className:\"container py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-11 col-xl-10\",style:{maxWidth:'1100px'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column flex-md-row align-items-md-center justify-content-md-between mb-3 gap-2\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"h4 mb-0 text-center text-md-start\",children:[\"Cursos \\u2013 \",(_ref=(_data$establecimiento=data===null||data===void 0?void 0:(_data$establecimiento2=data.establecimiento)===null||_data$establecimiento2===void 0?void 0:_data$establecimiento2.nombre)!==null&&_data$establecimiento!==void 0?_data$establecimiento:nombreEstParam)!==null&&_ref!==void 0?_ref:'—']}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2 justify-content-center justify-content-md-end\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-secondary\",onClick:cargarDatos,children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-clockwise me-1\",\"aria-hidden\":\"true\"}),\"Refrescar\"]}),/*#__PURE__*/_jsx(BotonCrearConModal,{textoBoton:\"Agregar curso\",icono:\"bi-plus-lg\",titulo:\"Agregar curso\",tamanoModal:\"modal-lg\",valoresIniciales:{nombre:'',nivel:'',anio_escolar:'',establecimiento:(_ref2=(_data$establecimiento3=data===null||data===void 0?void 0:(_data$establecimiento4=data.establecimiento)===null||_data$establecimiento4===void 0?void 0:_data$establecimiento4.nombre)!==null&&_data$establecimiento3!==void 0?_data$establecimiento3:nombreEstParam)!==null&&_ref2!==void 0?_ref2:''},campos:[{name:'nombre',label:'Curso (nombre)',required:true,placeholder:'Ej: 1 medio A',col:'col-md-6'},{name:'nivel',label:'Nivel',placeholder:'Ej: 1 medio',col:'col-md-6'},{name:'anio_escolar',label:'Año escolar',type:'number',attrs:{min:1900,max:2100},col:'col-md-6'},{name:'establecimiento',label:'Establecimiento',placeholder:'Ej: Liceo X',col:'col-md-6'}],transformarValores:vals=>{var _vals$nombre;return _objectSpread(_objectSpread(_objectSpread({nombre:String((_vals$nombre=vals.nombre)!==null&&_vals$nombre!==void 0?_vals$nombre:'').trim()},vals.nivel?{nivel:String(vals.nivel).trim()}:{}),vals.anio_escolar?{anio_escolar:Number(vals.anio_escolar)}:{}),vals.establecimiento?{establecimiento:String(vals.establecimiento).trim()}:{});},onGuardar:async payload=>await crearCurso(payload),onExito:async()=>{await cargarDatos();}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(Buscar,{valor:busqueda,onCambiar:setBusqueda,placeholder:\"Buscar: curso, nivel, a\\xF1o escolar o establecimiento\\u2026\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",role:\"alert\",children:error}),cargando?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2 text-muted justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm\",role:\"status\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Cargando cursos\\u2026\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive-md\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover table-sm align-middle\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Curso\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nivel\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"A\\xF1o escolar\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Establecimiento\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Habilitado Subv.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"JECD\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Matr. Vig.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Matr. Post.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Alumnos\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Apoyo personal\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cursosFiltrados.length?cursosFiltrados.map(c=>{var _ref3,_c$nombre2,_c$nivel2,_c$anio_escolar2,_c$establecimiento2;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:(_ref3=(_c$nombre2=c.nombre)!==null&&_c$nombre2!==void 0?_c$nombre2:c.nombre_display)!==null&&_ref3!==void 0?_ref3:'—'}),/*#__PURE__*/_jsx(\"td\",{children:(_c$nivel2=c.nivel)!==null&&_c$nivel2!==void 0?_c$nivel2:'—'}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:(_c$anio_escolar2=c.anio_escolar)!==null&&_c$anio_escolar2!==void 0?_c$anio_escolar2:'—'}),/*#__PURE__*/_jsx(\"td\",{children:(_c$establecimiento2=c.establecimiento)!==null&&_c$establecimiento2!==void 0?_c$establecimiento2:'—'}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge text-bg-secondary\",children:\"NO\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"badge text-bg-success\",children:\"S\\xED\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:\"0\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:\"0\"}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-outline-primary\",onClick:()=>irAlumnos(c),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-people-fill\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-outline-success\",onClick:()=>irApoyoPersonal(c),children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-person-heart\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(BotonEditarConModal,{registro:c,titulo:\"Editar curso\",textoBoton:\"Editar\",icono:\"bi-pencil-square\",className:\"btn btn-sm btn-outline-secondary\",campos:[{name:'nombre',label:'Curso (nombre)',required:true,placeholder:'Ej: 1 Básico B',col:'col-md-6'},{name:'nivel',label:'Nivel',placeholder:'Ej: Básica / Media',col:'col-md-6'},{name:'anio_escolar',label:'Año escolar',type:'number',attrs:{min:1900,max:2100},col:'col-md-6'}],transformarValores:vals=>_objectSpread(_objectSpread(_objectSpread({},vals.nombre!==''?{nombre:String(vals.nombre).trim()}:{}),vals.nivel!==''?{nivel:String(vals.nivel).trim()}:{}),vals.anio_escolar!==''?{anio_escolar:Number(vals.anio_escolar)}:{}),onGuardar:payload=>actualizarCurso(c.id,payload),onExito:cargarDatos})})]},c.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:11,className:\"text-center text-muted\",children:\"A\\xFAn no hay cursos cargados para este establecimiento.\"})})})]})})]})})});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","useNavigate","useParams","Buscar","BotonCrearConModal","BotonEditarConModal","obtenerEstructuraCurso","crearCurso","actualizarCurso","jsxs","_jsxs","jsx","_jsx","normalizarParamEst","s","decodeURIComponent","replace","trim","_unused","String","normalizarTexto","str","normalize","toLowerCase","EstructuraDeCurso","_ref","_data$establecimiento","_data$establecimiento2","_ref2","_data$establecimiento3","_data$establecimiento4","navigate","id","nombreEstParam","data","setData","establecimiento","nombre","cursos","busqueda","setBusqueda","cargando","setCargando","error","setError","cargarDatos","res","err","_err$response","console","msg","message","includes","response","status","cursosFiltrados","q","filter","c","_c$nombre","_c$nivel","_c$anio_escolar","_c$establecimiento","_c$nombre_display","cursoNombre","nivel","anio","anio_escolar","toString","est","display","nombre_display","irAlumnos","concat","irApoyoPersonal","className","children","style","maxWidth","type","onClick","textoBoton","icono","titulo","tamanoModal","valoresIniciales","campos","name","label","required","placeholder","col","attrs","min","max","transformarValores","vals","_vals$nombre","_objectSpread","Number","onGuardar","payload","onExito","valor","onCambiar","role","length","map","_ref3","_c$nombre2","_c$nivel2","_c$anio_escolar2","_c$establecimiento2","registro","colSpan"],"sources":["/home/ec2-user/proyecto_integracion/front-end/src/paginas/Establecimientos/EstructuraDeCurso.jsx"],"sourcesContent":["// src/paginas/Establecimientos/EstructuraDeCurso.jsx\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport Buscar from '../../componentes/interfaz/Buscar';\nimport BotonCrearConModal from '../../componentes/interfaz/BotonCrearConModal';\nimport BotonEditarConModal from '../../componentes/interfaz/BotonEditarConModal';\nimport { obtenerEstructuraCurso, crearCurso, actualizarCurso } from '../../servicios/estructuraCurso';\n\nfunction normalizarParamEst(s) {\n  try {\n    return decodeURIComponent(s ?? '').replace(/-/g, ' ').trim();\n  } catch {\n    return String(s ?? '').replace(/-/g, ' ').trim();\n  }\n}\n\nfunction normalizarTexto(str) {\n  return (str ?? '')\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .toLowerCase()\n    .trim();\n}\n\nexport default function EstructuraDeCurso() {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const nombreEstParam = normalizarParamEst(id);\n\n  const [data, setData] = useState({ establecimiento: { nombre: nombreEstParam }, cursos: [] });\n  const [busqueda, setBusqueda] = useState('');\n  const [cargando, setCargando] = useState(false);\n  const [error, setError] = useState('');\n\n  async function cargarDatos() {\n    setCargando(true);\n    setError('');\n    try {\n      const res = await obtenerEstructuraCurso(nombreEstParam);\n      setData(res);\n    } catch (err) {\n      console.error('[EstructuraDeCurso] Error al cargar datos:', err);\n      const msg =\n        err?.message && err?.message.includes('Network Error')\n          ? 'No se pudo conectar al servidor. Revisa la conexión o la URL del backend.'\n          : err?.response?.status === 403\n          ? 'No tienes permiso para acceder a estos datos (403).'\n          : 'No se pudo cargar la estructura de curso.';\n      setError(msg);\n    } finally {\n      setCargando(false);\n    }\n  }\n\n  useEffect(() => {\n    cargarDatos();\n  }, [nombreEstParam]);\n\n  const cursosFiltrados = useMemo(() => {\n    const q = normalizarTexto(busqueda);\n    if (!q) return data.cursos;\n    return data.cursos.filter((c) => {\n      const cursoNombre = normalizarTexto(c.nombre ?? '');\n      const nivel = normalizarTexto(c.nivel ?? '');\n      const anio = normalizarTexto((c.anio_escolar ?? '').toString());\n      const est = normalizarTexto(c.establecimiento ?? '');\n      const display = normalizarTexto(c.nombre_display ?? '');\n      return (\n        cursoNombre.includes(q) ||\n        nivel.includes(q) ||\n        anio.includes(q) ||\n        est.includes(q) ||\n        display.includes(q)\n      );\n    });\n  }, [busqueda, data.cursos]);\n\n  // ✅ navegación dentro del sistema\n  const irAlumnos = (c) => navigate(`/establecimientos/${id}/cursos/${c.id}/alumnos`);\n  const irApoyoPersonal = (c) => navigate(`/establecimientos/${id}/cursos/${c.id}/apoyo-personal`);\n\n  return (\n    <div className=\"container py-4\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-12 col-lg-11 col-xl-10\" style={{ maxWidth: '1100px' }}>\n          <div className=\"d-flex flex-column flex-md-row align-items-md-center justify-content-md-between mb-3 gap-2\">\n            <h2 className=\"h4 mb-0 text-center text-md-start\">\n              Cursos – {data?.establecimiento?.nombre ?? nombreEstParam ?? '—'}\n            </h2>\n            <div className=\"d-flex gap-2 justify-content-center justify-content-md-end\">\n              <button type=\"button\" className=\"btn btn-outline-secondary\" onClick={cargarDatos}>\n                <i className=\"bi bi-arrow-clockwise me-1\" aria-hidden=\"true\"></i>\n                Refrescar\n              </button>\n\n              <BotonCrearConModal\n                textoBoton=\"Agregar curso\"\n                icono=\"bi-plus-lg\"\n                titulo=\"Agregar curso\"\n                tamanoModal=\"modal-lg\"\n                valoresIniciales={{\n                  nombre: '',\n                  nivel: '',\n                  anio_escolar: '',\n                  establecimiento: data?.establecimiento?.nombre ?? nombreEstParam ?? '',\n                }}\n                campos={[\n                  { name: 'nombre', label: 'Curso (nombre)', required: true, placeholder: 'Ej: 1 medio A', col: 'col-md-6' },\n                  { name: 'nivel', label: 'Nivel', placeholder: 'Ej: 1 medio', col: 'col-md-6' },\n                  { name: 'anio_escolar', label: 'Año escolar', type: 'number', attrs: { min: 1900, max: 2100 }, col: 'col-md-6' },\n                  { name: 'establecimiento', label: 'Establecimiento', placeholder: 'Ej: Liceo X', col: 'col-md-6' },\n                ]}\n                transformarValores={(vals) => ({\n                  nombre: String(vals.nombre ?? '').trim(),\n                  ...(vals.nivel ? { nivel: String(vals.nivel).trim() } : {}),\n                  ...(vals.anio_escolar ? { anio_escolar: Number(vals.anio_escolar) } : {}),\n                  ...(vals.establecimiento ? { establecimiento: String(vals.establecimiento).trim() } : {}),\n                })}\n                onGuardar={async (payload) => await crearCurso(payload)}\n                onExito={async () => {\n                  await cargarDatos();\n                }}\n              />\n            </div>\n          </div>\n\n          <div className=\"mb-3\">\n            <Buscar\n              valor={busqueda}\n              onCambiar={setBusqueda}\n              placeholder=\"Buscar: curso, nivel, año escolar o establecimiento…\"\n            />\n          </div>\n\n          {error && <div className=\"alert alert-danger\" role=\"alert\">{error}</div>}\n\n          {cargando ? (\n            <div className=\"d-flex align-items-center gap-2 text-muted justify-content-center\">\n              <div className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></div>\n              <span>Cargando cursos…</span>\n            </div>\n          ) : (\n            <div className=\"table-responsive-md\">\n              <table className=\"table table-hover table-sm align-middle\">\n                <thead className=\"table-light\">\n                  <tr>\n                    <th>Curso</th>\n                    <th>Nivel</th>\n                    <th className=\"text-center\">Año escolar</th>\n                    <th>Establecimiento</th>\n                    <th className=\"text-center\">Habilitado Subv.</th>\n                    <th className=\"text-center\">JECD</th>\n                    <th className=\"text-center\">Matr. Vig.</th>\n                    <th className=\"text-center\">Matr. Post.</th>\n                    <th className=\"text-center\">Alumnos</th>\n                    <th className=\"text-center\">Apoyo personal</th>\n                    <th className=\"text-center\">Acciones</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {cursosFiltrados.length ? (\n                    cursosFiltrados.map((c) => (\n                      <tr key={c.id}>\n                        <td>{c.nombre ?? c.nombre_display ?? '—'}</td>\n                        <td>{c.nivel ?? '—'}</td>\n                        <td className=\"text-center\">{c.anio_escolar ?? '—'}</td>\n                        <td>{c.establecimiento ?? '—'}</td>\n                        <td className=\"text-center\"><span className=\"badge text-bg-secondary\">NO</span></td>\n                        <td className=\"text-center\"><span className=\"badge text-bg-success\">Sí</span></td>\n                        <td className=\"text-center\">0</td>\n                        <td className=\"text-center\">0</td>\n\n                        {/* Botón alumnos */}\n                        <td className=\"text-center\">\n                          <button type=\"button\" className=\"btn btn-sm btn-outline-primary\" onClick={() => irAlumnos(c)}>\n                            <i className=\"bi bi-people-fill\"></i>\n                          </button>\n                        </td>\n\n                        {/* Botón apoyo personal */}\n                        <td className=\"text-center\">\n                          <button type=\"button\" className=\"btn btn-sm btn-outline-success\" onClick={() => irApoyoPersonal(c)}>\n                            <i className=\"bi bi-person-heart\"></i>\n                          </button>\n                        </td>\n\n                        {/* Editar */}\n                        <td className=\"text-center\">\n                          <BotonEditarConModal\n                            registro={c}\n                            titulo=\"Editar curso\"\n                            textoBoton=\"Editar\"\n                            icono=\"bi-pencil-square\"\n                            className=\"btn btn-sm btn-outline-secondary\"\n                            campos={[\n                              { name: 'nombre', label: 'Curso (nombre)', required: true, placeholder: 'Ej: 1 Básico B', col: 'col-md-6' },\n                              { name: 'nivel', label: 'Nivel', placeholder: 'Ej: Básica / Media', col: 'col-md-6' },\n                              { name: 'anio_escolar', label: 'Año escolar', type: 'number', attrs: { min: 1900, max: 2100 }, col: 'col-md-6' },\n                            ]}\n                            transformarValores={(vals) => ({\n                              ...(vals.nombre !== '' ? { nombre: String(vals.nombre).trim() } : {}),\n                              ...(vals.nivel !== '' ? { nivel: String(vals.nivel).trim() } : {}),\n                              ...(vals.anio_escolar !== '' ? { anio_escolar: Number(vals.anio_escolar) } : {}),\n                            })}\n                            onGuardar={(payload) => actualizarCurso(c.id, payload)}\n                            onExito={cargarDatos}\n                          />\n                        </td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td colSpan={11} className=\"text-center text-muted\">\n                        Aún no hay cursos cargados para este establecimiento.\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}