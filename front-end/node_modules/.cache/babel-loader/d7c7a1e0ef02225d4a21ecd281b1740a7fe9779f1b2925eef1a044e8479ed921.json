{"ast":null,"code":"// src/componentes/interfaz/Buscar.jsx\nimport React,{useEffect,useRef,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Buscar(_ref){var _ref2;let{// Compatibilidad + API universal\nvalue,// preferido\nvalor,// compatibilidad\nonChange,// preferido\nonCambiar,// compatibilidad\nplaceholder='Buscar…',debounceMs=0,// 0 = sin debounce; 200–300 recomendado para backend\nonDebouncedChange,// si requieres callback solo cuando termina el debounce\nonSubmit,// Enter\nonClear,// callback al limpiar\nautoFocus=false,className='',size='md',// 'sm' | 'md' | 'lg'\nicon='bi-search',// clase de Bootstrap Icons (solo el nombre, sin el prefijo 'bi ')\nclearButton=true,name,id,'aria-label':ariaLabel}=_ref;const controlledValue=(_ref2=value!==null&&value!==void 0?value:valor)!==null&&_ref2!==void 0?_ref2:'';const[inner,setInner]=useState(controlledValue);const inputRef=useRef(null);// Sincroniza el valor interno cuando cambia desde el padre\nuseEffect(()=>{setInner(controlledValue);},[controlledValue]);// Disparo de eventos con debounce\nuseEffect(()=>{// si no hay debounce, avisa inmediatamente\nif(!debounceMs){var _ref3;(_ref3=onChange||onCambiar)===null||_ref3===void 0?void 0:_ref3(inner);return;}const t=setTimeout(()=>{var _ref4;onDebouncedChange===null||onDebouncedChange===void 0?void 0:onDebouncedChange(inner);(_ref4=onChange||onCambiar)===null||_ref4===void 0?void 0:_ref4(inner);// opcional mantener ambos\n},debounceMs);return()=>clearTimeout(t);},[inner,debounceMs]);// eslint-disable-line react-hooks/exhaustive-deps\nconst sizeClass=size==='sm'?'form-control form-control-sm':size==='lg'?'form-control form-control-lg':'form-control';const handleChange=e=>{var _ref5;const v=e.target.value;setInner(v);if(!debounceMs)(_ref5=onChange||onCambiar)===null||_ref5===void 0?void 0:_ref5(v);};const handleClear=()=>{var _ref6,_inputRef$current;setInner('');(_ref6=onChange||onCambiar)===null||_ref6===void 0?void 0:_ref6('');onDebouncedChange===null||onDebouncedChange===void 0?void 0:onDebouncedChange('');onClear===null||onClear===void 0?void 0:onClear();(_inputRef$current=inputRef.current)===null||_inputRef$current===void 0?void 0:_inputRef$current.focus();};const handleKeyDown=e=>{if(e.key==='Escape'){e.preventDefault();if(clearButton)handleClear();}if(e.key==='Enter'){onSubmit===null||onSubmit===void 0?void 0:onSubmit(inner);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3 \".concat(className),children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text bg-primary text-white\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi \".concat(icon),\"aria-hidden\":\"true\"})}),/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"search\",className:sizeClass,placeholder:placeholder,value:inner,onChange:handleChange,onKeyDown:handleKeyDown,autoFocus:autoFocus,name:name,id:id,\"aria-label\":ariaLabel||placeholder}),clearButton&&inner&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:handleClear,\"aria-label\":\"Limpiar b\\xFAsqueda\",title:\"Limpiar\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x-circle\"})})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","Buscar","_ref","_ref2","value","valor","onChange","onCambiar","placeholder","debounceMs","onDebouncedChange","onSubmit","onClear","autoFocus","className","size","icon","clearButton","name","id","ariaLabel","controlledValue","inner","setInner","inputRef","_ref3","t","setTimeout","_ref4","clearTimeout","sizeClass","handleChange","e","_ref5","v","target","handleClear","_ref6","_inputRef$current","current","focus","handleKeyDown","key","preventDefault","concat","children","ref","type","onKeyDown","onClick","title"],"sources":["/home/ec2-user/proyecto_integracion/front-end/src/componentes/interfaz/Buscar.jsx"],"sourcesContent":["// src/componentes/interfaz/Buscar.jsx\nimport React, { useEffect, useRef, useState } from 'react';\n\nexport default function Buscar({\n  // Compatibilidad + API universal\n  value,            // preferido\n  valor,            // compatibilidad\n  onChange,         // preferido\n  onCambiar,        // compatibilidad\n\n  placeholder = 'Buscar…',\n  debounceMs = 0,           // 0 = sin debounce; 200–300 recomendado para backend\n  onDebouncedChange,        // si requieres callback solo cuando termina el debounce\n  onSubmit,                 // Enter\n  onClear,                  // callback al limpiar\n  autoFocus = false,\n  className = '',\n  size = 'md',              // 'sm' | 'md' | 'lg'\n  icon = 'bi-search',       // clase de Bootstrap Icons (solo el nombre, sin el prefijo 'bi ')\n  clearButton = true,\n  name,\n  id,\n  'aria-label': ariaLabel,\n}) {\n  const controlledValue = value ?? valor ?? '';\n  const [inner, setInner] = useState(controlledValue);\n  const inputRef = useRef(null);\n\n  // Sincroniza el valor interno cuando cambia desde el padre\n  useEffect(() => {\n    setInner(controlledValue);\n  }, [controlledValue]);\n\n  // Disparo de eventos con debounce\n  useEffect(() => {\n    // si no hay debounce, avisa inmediatamente\n    if (!debounceMs) {\n      (onChange || onCambiar)?.(inner);\n      return;\n    }\n    const t = setTimeout(() => {\n      onDebouncedChange?.(inner);\n      (onChange || onCambiar)?.(inner); // opcional mantener ambos\n    }, debounceMs);\n    return () => clearTimeout(t);\n  }, [inner, debounceMs]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const sizeClass =\n    size === 'sm' ? 'form-control form-control-sm' :\n    size === 'lg' ? 'form-control form-control-lg' :\n    'form-control';\n\n  const handleChange = (e) => {\n    const v = e.target.value;\n    setInner(v);\n    if (!debounceMs) (onChange || onCambiar)?.(v);\n  };\n\n  const handleClear = () => {\n    setInner('');\n    (onChange || onCambiar)?.('');\n    onDebouncedChange?.('');\n    onClear?.();\n    inputRef.current?.focus();\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      e.preventDefault();\n      if (clearButton) handleClear();\n    }\n    if (e.key === 'Enter') {\n      onSubmit?.(inner);\n    }\n  };\n\n  return (\n    <div className={`input-group mb-3 ${className}`}>\n      <span className=\"input-group-text bg-primary text-white\">\n        <i className={`bi ${icon}`} aria-hidden=\"true\"></i>\n      </span>\n      <input\n        ref={inputRef}\n        type=\"search\"\n        className={sizeClass}\n        placeholder={placeholder}\n        value={inner}\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        autoFocus={autoFocus}\n        name={name}\n        id={id}\n        aria-label={ariaLabel || placeholder}\n      />\n      {clearButton && inner && (\n        <button\n          className=\"btn btn-outline-secondary\"\n          type=\"button\"\n          onClick={handleClear}\n          aria-label=\"Limpiar búsqueda\"\n          title=\"Limpiar\"\n        >\n          <i className=\"bi bi-x-circle\"></i>\n        </button>\n      )}\n    </div>\n  );\n}"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3D,cAAe,SAAS,CAAAC,MAAMA,CAAAC,IAAA,CAoB3B,KAAAC,KAAA,IApB4B,CAC7B;AACAC,KAAK,CAAa;AAClBC,KAAK,CAAa;AAClBC,QAAQ,CAAU;AAClBC,SAAS,CAAS;AAElBC,WAAW,CAAG,SAAS,CACvBC,UAAU,CAAG,CAAC,CAAY;AAC1BC,iBAAiB,CAAS;AAC1BC,QAAQ,CAAkB;AAC1BC,OAAO,CAAmB;AAC1BC,SAAS,CAAG,KAAK,CACjBC,SAAS,CAAG,EAAE,CACdC,IAAI,CAAG,IAAI,CAAe;AAC1BC,IAAI,CAAG,WAAW,CAAQ;AAC1BC,WAAW,CAAG,IAAI,CAClBC,IAAI,CACJC,EAAE,CACF,YAAY,CAAEC,SAChB,CAAC,CAAAlB,IAAA,CACC,KAAM,CAAAmB,eAAe,EAAAlB,KAAA,CAAGC,KAAK,SAALA,KAAK,UAALA,KAAK,CAAIC,KAAK,UAAAF,KAAA,UAAAA,KAAA,CAAI,EAAE,CAC5C,KAAM,CAACmB,KAAK,CAAEC,QAAQ,CAAC,CAAG3B,QAAQ,CAACyB,eAAe,CAAC,CACnD,KAAM,CAAAG,QAAQ,CAAG7B,MAAM,CAAC,IAAI,CAAC,CAE7B;AACAD,SAAS,CAAC,IAAM,CACd6B,QAAQ,CAACF,eAAe,CAAC,CAC3B,CAAC,CAAE,CAACA,eAAe,CAAC,CAAC,CAErB;AACA3B,SAAS,CAAC,IAAM,CACd;AACA,GAAI,CAACe,UAAU,CAAE,KAAAgB,KAAA,CACf,CAAAA,KAAA,CAACnB,QAAQ,EAAIC,SAAS,UAAAkB,KAAA,iBAAtBA,KAAA,CAA0BH,KAAK,CAAC,CAChC,OACF,CACA,KAAM,CAAAI,CAAC,CAAGC,UAAU,CAAC,IAAM,KAAAC,KAAA,CACzBlB,iBAAiB,SAAjBA,iBAAiB,iBAAjBA,iBAAiB,CAAGY,KAAK,CAAC,CAC1B,CAAAM,KAAA,CAACtB,QAAQ,EAAIC,SAAS,UAAAqB,KAAA,iBAAtBA,KAAA,CAA0BN,KAAK,CAAC,CAAE;AACpC,CAAC,CAAEb,UAAU,CAAC,CACd,MAAO,IAAMoB,YAAY,CAACH,CAAC,CAAC,CAC9B,CAAC,CAAE,CAACJ,KAAK,CAAEb,UAAU,CAAC,CAAC,CAAE;AAEzB,KAAM,CAAAqB,SAAS,CACbf,IAAI,GAAK,IAAI,CAAG,8BAA8B,CAC9CA,IAAI,GAAK,IAAI,CAAG,8BAA8B,CAC9C,cAAc,CAEhB,KAAM,CAAAgB,YAAY,CAAIC,CAAC,EAAK,KAAAC,KAAA,CAC1B,KAAM,CAAAC,CAAC,CAAGF,CAAC,CAACG,MAAM,CAAC/B,KAAK,CACxBmB,QAAQ,CAACW,CAAC,CAAC,CACX,GAAI,CAACzB,UAAU,CAAE,CAAAwB,KAAA,CAAC3B,QAAQ,EAAIC,SAAS,UAAA0B,KAAA,iBAAtBA,KAAA,CAA0BC,CAAC,CAAC,CAC/C,CAAC,CAED,KAAM,CAAAE,WAAW,CAAGA,CAAA,GAAM,KAAAC,KAAA,CAAAC,iBAAA,CACxBf,QAAQ,CAAC,EAAE,CAAC,CACZ,CAAAc,KAAA,CAAC/B,QAAQ,EAAIC,SAAS,UAAA8B,KAAA,iBAAtBA,KAAA,CAA0B,EAAE,CAAC,CAC7B3B,iBAAiB,SAAjBA,iBAAiB,iBAAjBA,iBAAiB,CAAG,EAAE,CAAC,CACvBE,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAG,CAAC,CACX,CAAA0B,iBAAA,CAAAd,QAAQ,CAACe,OAAO,UAAAD,iBAAA,iBAAhBA,iBAAA,CAAkBE,KAAK,CAAC,CAAC,CAC3B,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIT,CAAC,EAAK,CAC3B,GAAIA,CAAC,CAACU,GAAG,GAAK,QAAQ,CAAE,CACtBV,CAAC,CAACW,cAAc,CAAC,CAAC,CAClB,GAAI1B,WAAW,CAAEmB,WAAW,CAAC,CAAC,CAChC,CACA,GAAIJ,CAAC,CAACU,GAAG,GAAK,OAAO,CAAE,CACrB/B,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAGW,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEtB,KAAA,QAAKc,SAAS,qBAAA8B,MAAA,CAAsB9B,SAAS,CAAG,CAAA+B,QAAA,eAC9C/C,IAAA,SAAMgB,SAAS,CAAC,wCAAwC,CAAA+B,QAAA,cACtD/C,IAAA,MAAGgB,SAAS,OAAA8B,MAAA,CAAQ5B,IAAI,CAAG,CAAC,cAAY,MAAM,CAAI,CAAC,CAC/C,CAAC,cACPlB,IAAA,UACEgD,GAAG,CAAEtB,QAAS,CACduB,IAAI,CAAC,QAAQ,CACbjC,SAAS,CAAEgB,SAAU,CACrBtB,WAAW,CAAEA,WAAY,CACzBJ,KAAK,CAAEkB,KAAM,CACbhB,QAAQ,CAAEyB,YAAa,CACvBiB,SAAS,CAAEP,aAAc,CACzB5B,SAAS,CAAEA,SAAU,CACrBK,IAAI,CAAEA,IAAK,CACXC,EAAE,CAAEA,EAAG,CACP,aAAYC,SAAS,EAAIZ,WAAY,CACtC,CAAC,CACDS,WAAW,EAAIK,KAAK,eACnBxB,IAAA,WACEgB,SAAS,CAAC,2BAA2B,CACrCiC,IAAI,CAAC,QAAQ,CACbE,OAAO,CAAEb,WAAY,CACrB,aAAW,qBAAkB,CAC7Bc,KAAK,CAAC,SAAS,CAAAL,QAAA,cAEf/C,IAAA,MAAGgB,SAAS,CAAC,gBAAgB,CAAI,CAAC,CAC5B,CACT,EACE,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}